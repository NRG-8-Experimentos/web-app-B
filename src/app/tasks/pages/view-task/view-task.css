.wrap { display:flex; justify-content:center; padding:24px; }
.loading { padding:24px; color:#6b7280; text-align:center; }

.card{
  width:min(860px, 96%);
  background:#f6f7f8;
  border:1px solid #e4e7eb;
  border-radius:22px;
  padding:22px;
  box-shadow:0 6px 18px rgba(0,0,0,.06);
}

.head{ display:grid; gap:10px; }
.user{ display:flex; align-items:center; gap:12px; }
.avatar{ width:48px; height:48px; border-radius:50%; object-fit:cover; }
.avatar--initials{ width:48px; height:48px; border-radius:50%; display:grid; place-items:center; background:#2563eb; color:#fff; font-weight:800; }
.user__name{ font-weight:700; color:#111827; }
.title{ font-size:1.25rem; font-weight:700; color:#1f2937; }
.divider{ height:2px; background:#e5e7eb; border-radius:2px; margin:10px 0; }

.desc{
  background:#fff; border:1px solid #e8e8e8; border-radius:14px;
  padding:14px; min-height:110px; box-shadow:0 2px 6px rgba(0,0,0,.04);
  color:#111827;
}

.meta{ display:grid; gap:8px; justify-items:center; margin-top:12px; }
.muted{ color:#6b7280; font-size:.95rem; }
.progress{ width:100%; height:12px; background:#f1f5f9; border-radius:999px; overflow:hidden; box-shadow: inset 0 1px 2px rgba(0,0,0,.06); }
.progress .bar{ width:100%; height:100%; }
.progress .bar.ok{ background:#22c55e; }
.progress .bar.warn{ background:#f59e0b; }
.progress .bar.late{ background:#ef4444; }
.progress .bar.unknown{ background:#e5e7eb; }

.actions{ display:flex; justify-content:center; margin-top:16px; }
.btn{
  border:none; border-radius:12px; padding:12px 22px; color:#fff; font-weight:700; cursor:pointer;
  box-shadow:0 3px 10px rgba(0,0,0,.12);
  transition:transform .05s ease, box-shadow .15s ease;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 14px rgba(0,0,0,.18); }
.btn--back{ background:#ef4444; }
:host { display:block; color: var(--text); }

.wrap { background: transparent; }

.card{
  width:min(860px, 96%);
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  border-radius: 22px;
  padding: 22px;
  box-shadow: var(--elev-1) !important;
  color: var(--text) !important;
}

.user__name, .title { color: var(--text) !important; }
.avatar { border: 1px solid var(--border); }
.avatar--initials { background:#2563eb; color:#fff; }

.divider{ height:2px; background: var(--border) !important; border-radius:2px; margin:10px 0; }

.desc{
  background: var(--surface-2) !important;
  border: 1px solid var(--border) !important;
  border-radius: 14px;
  padding: 14px; min-height:110px;
  box-shadow: 0 2px 6px rgba(0,0,0,.04);
  color: var(--text) !important;
}

.muted{ color: var(--muted) !important; }
.progress{
  width:100%; height:12px;
  background: var(--track) !important;
  border-radius:999px; overflow:hidden;
  box-shadow: inset 0 1px 2px rgba(0,0,0,.06);
}
.progress .bar{ width:100%; height:100%; }
.progress .bar.ok{ background:#22c55e; }
.progress .bar.warn{ background:#f59e0b; }
.progress .bar.late{ background:#ef4444; }
.progress .bar.unknown{ background:#e5e7eb; }

.btn{ box-shadow: 0 3px 10px rgba(0,0,0,.12); }
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 14px rgba(0,0,0,.18); }


:host-context(html.dark), :host-context(body.dark){
}
:host-context(html.dark) .card       { background:#0f172a !important; border-color:#273244 !important; color:#e5e7eb !important; }
:host-context(html.dark) .desc       { background:#111827 !important; border-color:#273244 !important; color:#e5e7eb !important; }
:host-context(html.dark) .divider    { background:#273244 !important; }
:host-context(html.dark) .muted      { color:#9aa4b2 !important; }
:host-context(html.dark) .progress   { background:#1f2937 !important; }

:host .desc{
  background: var(--surface-2) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 14px;
  box-shadow: 0 2px 6px rgba(0,0,0,.04);
}

:host-context(html.dark) .desc,
:host-context(body.dark) .desc,
:host-context(.dark) .desc{
  background: var(--surface-2) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

:host textarea.desc::placeholder{
  color: var(--muted);
  opacity: 1;
}
.desc{
  background: var(--surface-2) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

/* Comments Section */
.comments-section{ margin-top:24px; padding-top:20px; border-top:2px solid #e5e7eb; }
.comments-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:16px; }
.comments-title{ margin:0; font-size:1.1rem; font-weight:700; color:#1f2937; }
.btn--comment{ background:#3b82f6; font-size:0.9rem; padding:8px 16px; }
.btn--submit{ background:#10b981; width:100%; margin-top:8px; }

.comment-form{ background:#fff; border:1px solid #e8e8e8; border-radius:14px; padding:14px; margin-bottom:16px; box-shadow:0 2px 6px rgba(0,0,0,.04); }
.comment-input{ width:100%; border:1px solid #d1d5db; border-radius:8px; padding:10px; font-family:inherit; resize:vertical; }
.comment-input:focus{ outline:none; border-color:#3b82f6; }

.comments-list{ display:grid; gap:12px; }
.comment-item{ background:#fff; border:1px solid #e8e8e8; border-radius:12px; padding:14px; box-shadow:0 2px 6px rgba(0,0,0,.04); }
.comment-header{ display:flex; gap:8px; margin-bottom:8px; }
.comment-type{ padding:4px 10px; border-radius:6px; background:#dbeafe; color:#1e40af; font-size:0.75rem; font-weight:600; text-transform:uppercase; }
.comment-type.modification{ background:#fef3c7; color:#92400e; }
.comment-status{ padding:4px 10px; border-radius:6px; font-size:0.75rem; font-weight:600; text-transform:uppercase; }
.comment-status.pending{ background:#fef3c7; color:#92400e; }
.comment-status.approved{ background:#d1fae5; color:#065f46; }
.comment-status.rejected{ background:#fee2e2; color:#991b1b; }
.comment-text{ margin:0; color:#374151; line-height:1.5; }
.no-comments{ text-align:center; padding:24px; color:#9ca3af; font-style:italic; }
.loading-comments{ text-align:center; padding:16px; color:#6b7280; }

