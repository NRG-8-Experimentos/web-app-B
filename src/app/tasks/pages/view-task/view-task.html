<section class="wrap" *ngIf="!loading && task; else loadingTpl">
  <article class="card">
    <!-- header -->
    <header class="head">
      <div class="user">
        <img *ngIf="task.member?.urlImage; else initials"
             class="avatar" [src]="task.member?.urlImage" alt="avatar">
        <ng-template #initials>
          <span class="avatar avatar--initials">
            {{ (task.member?.name||'')[0] }}{{ (task.member?.surname||'')[0] }}
          </span>
        </ng-template>
        <div class="user__info">
          <div class="user__name">{{ task.member?.name }} {{ task.member?.surname }}</div>
        </div>
      </div>
      <div class="title">{{ task.title }}</div>
    </header>

    <div class="divider"></div>

    <div class="desc">{{ task.description || ( 'viewTask.noDescription' | translate ) }}</div>

    <div class="meta">
      <div class="progress">
        <div class="bar" [ngClass]="progressClass()"></div>
      </div>
      <small class="muted">
        {{ task.createdAt | date:'dd/MM/yyyy' }} - {{ task.dueDate | date:'dd/MM/yyyy' }}
      </small>
    </div>

    <footer class="actions">
      <button class="btn btn--back" (click)="back()">{{'viewTask.return'|translate}}</button>
    </footer>
  </article>
</section>

<ng-template #loadingTpl>
  <div class="loading">{{'viewTask.loading'|translate}}</div>
</ng-template>
