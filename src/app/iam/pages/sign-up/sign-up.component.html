<div class="register-screen">
  <div class="register-container card">
    <div class="register-title">{{ 'signup.title' | translate }}</div>

    <div class="register-form">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="register-form-row">
          <mat-form-field appearance="fill" class="custom-form-field full-width">
            <mat-label>{{ 'signup.name.label' | translate }}</mat-label>
            <mat-icon matPrefix>abc</mat-icon>
            <input matInput formControlName="name" [placeholder]="'signup.name.placeholder'|translate" type="text" required />
            <mat-error *ngIf="registerForm.get('name')?.hasError('required')">{{ 'signup.name.required'|translate }}</mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="custom-form-field full-width">
            <mat-label>{{ 'signup.surname.label' | translate }}</mat-label>
            <mat-icon matPrefix>abc</mat-icon>
            <input matInput formControlName="surname" [placeholder]="'signup.surname.placeholder'|translate" type="text" required />
            <mat-error *ngIf="registerForm.get('surname')?.hasError('required')">{{ 'signup.surname.required'|translate }}</mat-error>
          </mat-form-field>
        </div>

        <mat-form-field appearance="fill" class="custom-form-field full-width">
          <mat-label>{{ 'signup.username.label' | translate }}</mat-label>
          <mat-icon matPrefix>person</mat-icon>
          <input matInput formControlName="username" [placeholder]="'signup.username.placeholder'|translate" type="text" required />
          <mat-error *ngIf="registerForm.get('username')?.hasError('required')">{{ 'signup.username.required'|translate }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="custom-form-field full-width">
          <mat-label>{{ 'signup.email.label' | translate }}</mat-label>
          <mat-icon matPrefix>mail</mat-icon>
          <input matInput formControlName="email" [placeholder]="'signup.email.placeholder'|translate" type="email" required />
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">{{ 'signup.email.required'|translate }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="custom-form-field full-width">
          <mat-label>{{ 'signup.imgUrl.label' | translate }}</mat-label>
          <mat-icon matPrefix>link</mat-icon>
          <input matInput formControlName="imgUrl" [placeholder]="'signup.imgUrl.placeholder'|translate" type="text" required />
          <mat-error *ngIf="registerForm.get('imgUrl')?.hasError('required')">{{ 'signup.imgUrl.required'|translate }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="custom-form-field full-width">
          <mat-label>{{ 'signup.password.label' | translate }}</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password" [placeholder]="'signup.password.placeholder'|translate" required />
          <button mat-icon-button matSuffix type="button" (click)="showPassword = !showPassword" tabindex="-1">
            <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')">{{ 'signup.password.required'|translate }}</mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="custom-form-field full-width">
          <mat-label>{{ 'signup.confirmPassword.label' | translate }}</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <input matInput [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword" [placeholder]="'signup.confirmPassword.placeholder'|translate" required />
          <button mat-icon-button matSuffix type="button" (click)="showConfirmPassword = !showConfirmPassword" tabindex="-1">
            <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched">
            {{ 'signup.confirmPassword.required'|translate }}
          </mat-error>
        </mat-form-field>

        <div class="toggle-container">
          <p class="toggle-title">{{ 'signup.role.label' | translate }}</p>
          <mat-button-toggle-group formControlName="role" appearance="legacy" class="role-toggle-group" name="role" aria-label="Rol">
            <mat-button-toggle value="leader">{{ 'signup.role.options.leader' | translate }}</mat-button-toggle>
            <mat-button-toggle value="member">{{ 'signup.role.options.member' | translate }}</mat-button-toggle>
          </mat-button-toggle-group>
        </div>

        <div class="register-button-container">
          <div class="register-button">
            <button
              mat-raised-button
              type="submit"
              [disabled]="registerForm.invalid"
              [ngClass]="registerForm.valid ? 'register-button-valid' : 'register-button-invalid'">
              {{ 'signup.buttons.register' | translate }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
